SELECT
    UPPER(SC.TABLE_NAME) AS TABLE_NAME, 
	UPPER(sc.TABLE_SCHEMA) AS [SCHEMA],
    UPPER(SC.COLUMN_NAME) AS COLUMN_NAME,
    UPPER(SC.DATA_TYPE)
        + CASE WHEN SC.DATA_TYPE IN ('char','nchar','varchar','nvarchar','binary','varbinary')
                    AND SC.CHARACTER_MAXIMUM_LENGTH > 0 THEN
                 COALESCE('('+CONVERT(varchar,SC.CHARACTER_MAXIMUM_LENGTH)+')','')
            ELSE '' END
        + CASE WHEN DATA_TYPE IN ('decimal','numeric') THEN
                COALESCE('('+CONVERT(varchar,SC.NUMERIC_PRECISION)+','+CONVERT(varchar,SC.NUMERIC_SCALE)+')','')
            ELSE '' END
        AS DATA_TYPE,
    CASE WHEN SC.IS_NULLABLE='NO' THEN 'NOT ' ELSE '' END + 'NULL' AS Nullable,

	UPPER(SC.ORDINAL_POSITION) AS COLUMN_ID,
	UPPER(SC.DOMAIN_NAME) AS COMMENTS,
	PKconstraintName  = UPPER((SELECT + Col.name + ',' + ' ' 
									    FROM  
										sys.identity_columns Col 										
										WHERE 
										object_id  = OBJECT_ID(SC.Table_Name) 									
										ORDER BY Col.name DESC
										FOR XML PATH('')
										)),
	PK_ID = UPPER((SELECT +  c.name + ',' + ' '
	FROM 
    sys.tables t 
    LEFT JOIN sys.columns c ON c.object_id = t.object_id
    LEFT JOIN sys.identity_columns idc ON idc.object_id = t.object_id AND idc.column_id = c.column_id AND idc.is_identity = 1
    LEFT JOIN sys.index_columns ic ON ic.object_id = t.object_id AND ic.column_id = c.column_id
    LEFT JOIN sys.indexes i ON i.object_id = t.object_id AND i.index_id = ic.index_id AND i.is_primary_key = 1
WHERE t.type = 'U' AND (idc.is_identity = 1 OR i.is_primary_key = 1 OR c.name = 'ID') AND t.name = SC.Table_Name
ORDER BY  c.name
FOR XML PATH('')))	
FROM INFORMATION_SCHEMA.COLUMNS SC
INNER JOIN sys.objects AS SO ON (SO.object_id = OBJECT_ID(SC.TABLE_NAME) AND SO.type NOT IN ('V'))
left JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC ON (SC.TABLE_NAME = TC.TABLE_NAME AND TC.CONSTRAINT_TYPE = 'Primary Key')
WHERE SC.TABLE_CATALOG = 'LIS_Prd_copy'	--DataBase Name
ORDER BY 1,2,PKconstraintName;
